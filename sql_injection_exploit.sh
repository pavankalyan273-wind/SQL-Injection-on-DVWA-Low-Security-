# 1. Install required services
sudo apt update
sudo apt install apache2 mariadb-server php php-mysqli git -y

# 2. Start Apache and MySQL
sudo service apache2 start
sudo service mysql start

# 3. Clone DVWA into web root
cd /var/www/html/
sudo git clone https://github.com/digininja/DVWA.git

# 4. Set permissions
sudo chown -R www-data:www-data DVWA/
sudo chmod -R 755 DVWA/

# 5. Configure DVWA
cd DVWA/config
sudo cp config.inc.php.dist config.inc.php
sudo nano config.inc.php
# Edit DB username/password (usually 'root' and '' for no password)

# 6. Create database
sudo mysql -u root
CREATE DATABASE dvwa;
exit;

# 7. Allow URL include in PHP
sudo nano /etc/php/*/apache2/php.ini
# Set: allow_url_include = On

# 8. Restart Apache
sudo service apache2 restart

# 9. Visit in browser
http://localhost/DVWA/setup.php
# Click "Create / Reset Database"

# 10. Login (admin / password) and set Security Level to Low
